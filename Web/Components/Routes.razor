@using Microsoft.AspNetCore.Components.Authorization
<CascadingAuthenticationState>
    <Router AppAssembly="typeof(Program).Assembly">
    <Found Context="routeData">
        <AuthorizeRouteView RouteData="routeData" DefaultLayout="typeof(Layout.MainLayout)">
            <NotAuthorized>
                @if (context.User.Identity?.IsAuthenticated != true)
                {
                    <RedirectToLogin/>
                }
                else
                {
                    <MudContainer MaxWidth="MaxWidth.Medium" Class="mt-6">
                       <MudAlert Severity="Severity.Error">
                        you are not authorized to access this page
                       </MudAlert>
                    </MudContainer>
                }
            </NotAuthorized>
            <Authorizing>
               <MudContainer MaxWidth="MaxWidth.Medium" Class="mt-6">
                <MudProgressLinear Indeterminate="true"/>
                <MudText Class="mt-4">Checking authorization...</MudText>
               </MudContainer>
            </Authorizing>
        </AuthorizeRouteView>
        <FocusOnNavigate RouteData="routeData" Selector="h1" />
    </Found>
    <NotFound>
        <PageTitle>Not Found</PageTitle>
        <LayoutView Layout="typeof(Layout.MainLayout)">
            <MudContainer MaxWidth="MaxWidth.Medium" Class="mt-6">
                <MudAlert Severity="Severity.Warning">
                    sorry, there's nothing at this address
                </MudAlert>
            </MudContainer>
        </LayoutView>
    </NotFound>
</Router>
</CascadingAuthenticationState>
@* <Router AppAssembly="typeof(Program).Assembly" NotFoundPage="typeof(Pages.NotFound)">
    <Found Context="routeData">
        <RouteView RouteData="routeData" DefaultLayout="typeof(Layout.MainLayout)" />
        <FocusOnNavigate RouteData="routeData" Selector="h1" />
    </Found>
</Router> *@
